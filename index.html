<!DOCTYPE html>
<html>
<head>
	<!-- Informacion de cabecera -->
	<meta name="language" content="spanish" />
	<meta name="Author" content="Nicolas Hertzulis" />
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>GMN</title>
	
	<!-- Referencias a hojas de estilos -->
	<link rel="stylesheet" type="text/css" href="css/style.css"/>
	
	<!-- Referencias a archivos javascript -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
	
	<!-- Comienzo script principal -->
	<script type="text/javascript">
		var Client = GuessMyNumberClientFramework(); //Es un namespace que retorna un JSON de funciones
		
		// Funcion para enviar formularios apretando Enter
		SetIntroShortcut = function(element, method) {
			$(element).keypress(function(event){
				var keyPressed = (event.keyCode ? event.keyCode : event.which);
				if (keyPressed == '13') method();
			});
		}
		
		$(document).ready(function(){
			
			//Escondo las div correspondientes
			$("#divSetNumber").hide();
			$("#divBoard").hide();
			$("#PlayerTable").hide();
			$("#PlayerCommands").hide();
			$("#txtName").val("Jugador" + (Math.floor(Math.random() * (100000))).toString()).focus();
			SetIntroShortcut("#txtName", function(){Client.Register()});
			SetIntroShortcut("#txtServer", function(){Client.Register()});
			SetIntroShortcut("#txtPort", function(){Client.Register()});
			SetIntroShortcut("#txtNr", function(){Client.SetNumber()});
			SetIntroShortcut("#txtGuess", function(){Client.AttemptNumber()});
			
			//Asocio los metodos a su correspondiente boton
			$("#btnLogin").click(function(){Client.Register()});
			$("#btnSetNumber").click(function(){Client.SetNumber()});
			$("#btnGuess").click(function(){Client.AttemptNumber()});
			
		});
	</script>	
</head>
<body>
	<div id="upper-container" class="user-info">
		<div id="upper-container2" class="upper-container2">
			<div id="logo" class="user-info">
				<h1 style="margin-top: 0">GuessMyNumber</h1>
				<h2>Browser-game for educational purposes</h3>
				GitHub: <a href="http://git.jurgens.com.ar/guessmynumber/src">Server</a> - <a href="https://github.com/nhertzulis/gmnclient">Client</a>
			</div>
		</div>
		<div id="upper-content" class="user-info"></div>
	</div>
	<!-- Comienzo container -->
	<div id="container" class="container">			
	
		<!-- Comienzo main-content -->
		<div id="main-content">
		
			<!-- Comienzo divLogin -->
			<div id="divLogin">
				<h3>Ingresar como invitado!</h2>
				Nombre: <input type="text" id="txtName" name="name"><br/>
				Servidor: <input type="text" id="txtServer" name="server" value="http://guessmynumber.jurgens.com.ar"><br/>
				Puerto: <input type="text" id="txtPort" name="port" value="80"><br/><br/>
				<span id="LoginResponse" style="color: red"></span><br/>
				<button id="btnLogin">Aceptar</button>
			</div> <!-- Fin divLogin -->
			
			<!-- Comienzo divSetNumber -->
			<div id="divSetNumber">
				<h3>Setear numero</h2>
				Debe contener 4 digitos distintos:<br/>
				<input type="text" id="txtNr" name="number" maxlength="4" value="1234"><br/><br/>
				<span id="SetNumberResponse" style="color: red"></span><br/>
				<button id="btnSetNumber">Aceptar</button>
			</div> <!-- Fin divSetNumber -->
			
			<!-- Comienzo divBoard-->
			<div id="divBoard">
				<h3>Selecciona tu objetivo:</h2>
				<div id="BoardSuperContainer">
					<div id="BoardContainer">
					</div>
					<div id="PlayerContainer">
						<div id="BoardResponse"></div>
						<div id="PlayerBadge"></div>
						<div id="PlayerCommands">
							Adivina su numero secreto!<br/>
							<span id="Attempt"></span> <input type="text" id="txtGuess" name="number" maxlength="4">
							<button id="btnGuess">Aceptar</button><br/>
							<span id="AttemptNumberResponse" style="color: red"></span>	
						</div><br/>
						<div id="PlayerTable">
							<table id="tblNumbersGuessed">
								<thead>
									<tr>
										<th>Numero</th>
										<th>Correctos</th>
										<th>Existentes</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div> <!-- Fin divBoard -->
		</div> <!-- Fin main-content --> 
	</div><!-- Fin container --> 
</body>
</html>